// Vars
$comment-index: 999;
$slider-index: 99;
$dark-trans: transparentize($text-color, 0.3);

.movie--rating          { @include rposition($type: absolute, $right: 0, $top: 5em ); min-width: 125px; z-index: $comment-index - 1; }
.movie--review          { @include rposition($type: absolute, $right: 0, $top: 1.5em ); z-index: $comment-index - 1; }

.movie--show{
  max-width: 90em;
  width: 80%;
  margin-left: auto;
  margin-right: auto;
  @include leader(-12);
  position: relative;
  z-index: $slider-index + 2;
  @extend %cf;
  @include trailer(2);
  .movie__img           { width: 30%; float: left; }
  .movie__info          { width: 45%; float: left; }
  .movie__title{
    padding: .5em 20px;
    background-color: $dark-trans;
    @extend %text--inverse;
    @extend %caps;
    @extend %text--light;
    @extend %flush;
    display: inline-block;
  }
  .movie__subheader{
    background-color: transparentize($white, .1);
    padding: .5em 20px;
    @extend %text--medium;
    display: inline-block;
  }
  .movie__summary{
    background-color: transparentize($white, 0);
    padding: 1em 40px 1em 20px;
    @include padding-leader;
    @include padding-trailer(2);
  }
  .movie__date{
    background-color: transparentize($white, 0);
    padding: 1em 20px;
  }
  .movie__tags{
    display: inline-block;
    color: gray;
  }
  .movie__year{
    font-weight: 300;
    font-size: .85em;
  }
}

.movie--rating__my-rating{
  @include adjust-font-size-to($base-font-size*1);
  @extend %text--inverse;
  @extend %text--regular;
  background-color: darken(transparentize($brand-color, .25), 10%);
  padding: .25em 1em;
  cursor: pointer;
}

.movie--rating__button, .movie--review__button{
  @include adjust-font-size-to($base-font-size*1.25);
  @extend %text--inverse;
  @extend %text--regular;
  background-color: transparentize($brand-color, .25);
  padding: .5em 1em;
  cursor: pointer;
  @include transition(background-color, ease, 0.6s);
  &:hover, &:focus          { background-color: $brand-color; }
}

.movie--review__button{
  @extend %show;
  background-color: transparentize($text-color, .25);
  &:hover, &:focus          { background-color: $text-color; }
}

.movie--rating__icon        { margin-right: .5em; }
.movie--rating__user-rating{
  margin-left: .5em;
  font-size: 12px;
  font-weight: 100;
  > span                    { margin-left: .25em; }
}

.rating-buttons{
  @include rposition($type: absolute, $right: 100%, $top: 0 );
  width: 300%;
  height: 100%;
  background-color: transparentize($brand-color, .3);
  font-size: 1.65em;
  line-height: 3;
  @extend %text--center;
  @include transition(opacity, ease, 0.3s);
  a                         { color: $white; padding-right: 5px; }
}

.movie--chat,
.movie--ratings{
  max-width: 90em;
  width: 80%;
  margin-left: auto;
  margin-right: auto;
  position: relative;
  z-index: 10;
  @include trailer(2);
  @extend %cf;
  .movie--chat__wrapper     { float: left; width: 66.66666%; }
  .review                   { @include trailer; }
}

.comments {
  margin-left: 5%;
}

.do-review{
  width: 100%;
  height: 100%;
  @include rposition($type: fixed, $left: 0, $top: 0 );
  padding: 4em 5%;
  overflow: hidden;
  z-index: $comment-index;
  @include transform(translate3d(0, 100%, 0));
  background-color: transparentize(white, 0);
  .do-review__title       { opacity: 0; }
  .do-review__subtitle    { @extend %show; color: gray; font-weight: 300; font-style: italic; @include trailer; }
  .do-review__close       { @include rposition($type: absolute, $right: 2em, $top: 2em ); cursor: pointer; font-size: 2em; font-weight: 300; }
  .do-review__input{
    width: 100%;
    height: 300px;
    border: none;
    background-color: inherit;
    @include adjust-font-size-to($base-font-size*2);
    font-weight: 400;
  }
}

//Slider
.backdrop-slider {
  width: 100%;
  height: 47.5em;
  background: $text-color;
  position: relative;
  & > ul{
    width: 100%;
    max-width: 100%;
    height: 100%;
    position: relative;
    list-style: none;
    padding: 0;
    margin: 0 auto;
    overflow: hidden;
  }
  li {
    width: 100%;
    height: 100%;
    @include rposition($type: absolute, $left: 0, $top: 0 );
    pointer-events: none;
    @extend %invisible;
    z-index: $slider-index;
    overflow: hidden;
    @include transition(opacity, ease, .5s);
  }

  li img {
    @extend %show;
    min-width: 100%;
    max-width: none;
    @include rposition($type: absolute, $left: 50% );
    @include transform(translate(-50%, -5%));
  }

  // Current state
  .current {
    @extend %visible;
    pointer-events: auto;
    z-index: $slider-index + 1;
  }

  // Navigation
  nav a {
    @include rposition($type: absolute, $right: 0, $bottom: 0 );
    z-index: $slider-index + 1;
    display: inline-block;
    width: $base-font-size*3;
    @extend %text--center;
    padding: .75em;
    background-color: $dark-trans;
    color: $white;
    @include transition(background-color, ease-in, .5s);
    &:hover           { background-color: $text-color; }
  }

  nav a.prev          { right: $base-font-size*3; }

}

