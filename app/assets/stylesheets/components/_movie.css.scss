// Vars
$comment-index: 999;
$slider-index: 99;
$dark-trans: transparentize($text-color, 0.3);

.movie__info-wrapper    { @extend %grid-papa; }
.movie__heading         { @extend %headline; @include adjust-font-size-to($h1-size); @include trailer(.25); }
.movie__sub-heading     { @extend %readable; @include adjust-font-size-to($h6-size); font-style: italic; @include trailer; color: transparentize($text-color, .5); }

.movie-section-wrapper  { padding: 2em 10% 1em 10%; }

// ------------------
// HERO
// ------------------
.movie--header {
  .movie__info      { @extend %one-whole; @extend %text--center; }

  .movie__subheader { @extend %caps; padding: 0 $base-font-size*2; }
  .movie__stats     {
    @include adjust-font-size-to($h5-size);
    @include trailer;
    .fa             { color: $brand-color; margin-left: 1em; }
  }

  .movie__title   {
    @include adjust-font-size-to($h1-size, 1.5);
    font-size: calc(#{$base-font-size*2} + 3vw + 2vh);
    padding: 0 $base-font-size*2.5;
    @extend %flush;
    display: block;
    @extend %headline;
    letter-spacing: -1px;
  }

  // Movie with Backdrops

  &.hero{
    .movie__info        { @include rposition($type: absolute, $bottom: 6em); z-index: $comment-index - 1; @extend %text--inverse; }
    .movie__title       { @extend %text--inverse; }
    .movie__subheader   {
      & a               { color: transparentize($white, .2); @include transition(color ease-in .25s); }
      & a:hover         { color: $white; }
    }
    .movie__btn         { @extend .btn--light; }
  }

  // Movie without Backdrops

  &.hero--small{
    .movie__info        { @include leader(3); @include trailer(3); }
  }
}

// ------------------
// SINOPSIS
// ------------------
.movie--show{
  @extend %relative;
  @extend %cf;
  .movie__img             { @extend %grid; @extend %medium-one-quarter; @extend %show-medium-up; }
  .movie__runtime         { padding-right: 1em; }
  .movie__tags            { display: inline-block; }

  .movie__summary{
    @extend %grid;
    @extend %medium-three-quarters;
    padding-left: $base-font-size*2.5;
    padding-right: $base-font-size*3;
    @include trailer(2);
  }

  .movie__sinopsis{
    @include trailer;
    @extend %readable;
    @include adjust-font-size-to($base-font-size);
  }
}

// ------------------
// ACTORS
// ------------------
.movie--actors{
  @extend %relative;
  @extend %cf;
  @extend %text--center;
  .movie--actors-list   {
    @extend %block-grid;
    @extend %small-block-grid-3;
    @extend %medium-block-grid-3;
    @extend %large-block-grid-5;
    @extend %xlarge-block-grid-6;
  }
  .actor__description{
    display: table;
    width: 100%;
    height: 100%;
    @include rposition($type: absolute, $top: 0);

  }
  .actor__name{
    display: table-cell;
    vertical-align: middle;
    @include adjust-font-size-to($h3-size, 1);
    @extend %text--inverse;
    @extend %text--center;
    @extend %headline;
    letter-spacing: 1px;
    padding: 0 $base-font-size;
  }

  figure{
    position: relative;
    background-color: $text-color;
    overflow: hidden;
    height: 100%;
    img                           { width: 100%; height: 100%; @include transition(all, ease, 0.5s); }
    &:hover{
      img                         { opacity: .25; @include scale(1.1); }
      figcaption                  { @extend %visible; }
    }
  }
  figcaption{ @include transition(opacity, ease, 0.4s); @extend %invisible; }
}

// ------------------
// DO FORMS
// ------------------
.do-review,
.do-rating  {
  width: 100%;
  height: 100%;
  @include rposition($type: fixed, $left: 0, $top: 0 );
  overflow: hidden;
  z-index: $comment-index;
  @include transform(translate3d(0, 100%, 0));
  background-color: transparentize(white, 0.05);

  .do__title              { opacity: 0; }


  .do-review__input,
  .do-rating__input       {
    width: 100%;
    height: 300px;
    border: none;
    @include trailer;
    background-color: inherit;
    @include adjust-font-size-to($h3-size);
    @extend %readable;
    resize: none;
  }
}

.do-rating__subtitle    { color: gray; font-weight: 300; font-style: italic; @include trailer; @extend %readable; }

.do-rating-form{
  background-color: #F0F0F0;
  padding: 1em;
  @include trailer;
  .do-rating__input       { height: 4em; width: 100%; }
  .do-rating__number      { display: none; }
  .do-rating__btn         {
    @include leader;
    color: $white;
    background-color: $brand-color;
    border: 2px solid $brand-color;
    letter-spacing: 1px;
    text-transform: uppercase;
    font-weight: 300;
    @include transition(border, ease-in, .35s);
    &:hover, &:focus{ outline: 0; border-color: darken($brand-color, 10%); }
  }

  textarea{
    border: 1px solid #eee;
    resize: none;
    width: 100%;
    height: 5em;
    @include trailer(.5);
    border-radius: 2px;
    &:focus{ outline: 0; border-color: #bbb; }
  }

}

.do-rating-with-stars{
  .do-rating-action { cursor: pointer; margin-right: 2px; color: $brand-color; }
}

// ------------------
// SLIDER
// ------------------
.backdrop-slider {
  &.hero{
    background: $text-color;
  }
  &.hero:before{
    content: "";
    @include rposition($type: absolute, $bottom: 0, $left: 0, $right: 0, $top: 0 );
    @include background-image(linear-gradient(transparent 35%, transparentize($text-color, .25)));
    z-index: $slider-index + 2;
  }
  &.hero--small{
    // background-color: none;
  }
  & > ul{
    width: 100%;
    max-width: 100%;
    height: 100%;
    position: relative;
    list-style: none;
    padding: 0;
    margin: 0 auto;
    overflow: hidden;
  }
  li {
    width: 100%;
    height: 100%;
    @include rposition($type: absolute, $left: 0, $top: 0 );
    pointer-events: none;
    @extend %invisible;
    z-index: $slider-index;
    overflow: hidden;
    @include transition(opacity, ease, .5s);
  }

  li .backdrop {
    @extend %show;
    width: 100%;
    height: 100%;
    @include rposition($type: absolute, $left: 0, $top: 0, $bottom: 0, $right: 0 );
    background-size: cover;
    background-position: center;
  }

  // Current state
  .current {
    @extend %visible;
    pointer-events: auto;
    z-index: $slider-index + 1;
  }

  // Navigation
  nav a {
    @include rposition($type: absolute, $right: 0, $bottom: 0 );
    z-index: $slider-index + 3;
    display: inline-block;
    width: $base-font-size*3;
    @extend %text--center;
    padding: .75em;
    color: $white;
    @include transition(background-color, ease-in, .5s);
    &:hover           { background-color: $dark-trans; }
  }

  nav a.prev          { right: $base-font-size*3; }

}

.toggle-movie-info {
  @include rposition($type: absolute, $top: 1em, $right: 2em);
  z-index: $comment-index;
  @extend .btn--sml;
  border-width: 1px;
  border-color: rgba($white, .75);
  font-weight: 800;
}

.list-of-ratings{
  list-style: none;
  @include inline-block-list;
}

.back-link{
  @include trailer(.5);
  display: block;
  .fa { margin-right: 1em; }
}